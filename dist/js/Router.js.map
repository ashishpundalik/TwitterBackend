{"version":3,"sources":["../../src/js/Router.js"],"names":["module","exports","router","routes","twitterUtil","require","Router","express","init","console","log","prototype","setupRoutes","configureUserTweetsRoute","configureMyTweetsRoute","configureSearchTweets","getExpressRouter","definedRoutes","Error","userTweets","get","req","res","query","getUserTimeline","twitterHandle","tweetCount","err","resp","send","myTweets","getMyTweets","searchTweets","hashtag","getSearchedTweets"],"mappings":";;AAAAA,OAAOC,OAAP,GAAkB,YAAW;AAC5B,KAAIC,MAAJ,EAAYC,MAAZ;AACA,KAAIC,cAAcC,QAAQ,kBAAR,CAAlB;;AAEA,UAASC,MAAT,CAAgBC,OAAhB,EAAyBJ,MAAzB,EAAiC;AAChCK,OAAKD,OAAL,EAAcJ,MAAd;AACAM,UAAQC,GAAR,CAAY,MAAZ;AACA;;AAEDJ,QAAOK,SAAP,CAAiBC,WAAjB,GAA+B,YAAW;AACzCC;AACAC;AACAC;AACA,EAJD;;AAMAT,QAAOK,SAAP,CAAiBK,gBAAjB,GAAoC,YAAW;AAC9C,SAAOd,MAAP;AACA,EAFD;;AAIA,KAAIM,OAAO,SAAPA,IAAO,CAASD,OAAT,EAAkBU,aAAlB,EAAiC;AAC3C,MAAGV,QAAQD,MAAR,IAAkBW,aAArB,EAAoC;AACnCf,YAASK,QAAQD,MAAR,EAAT;AACAH,YAASc,aAAT;AACA,GAHD,MAGO;AACN,SAAM,IAAIC,KAAJ,CAAU,0CAAV,CAAN;AACA;AACD,EAPD;;AASA,KAAIL,2BAA2B,SAA3BA,wBAA2B,GAAW;AACzCJ,UAAQC,GAAR,CAAY,wBAAsBP,OAAOgB,UAAzC;AACAjB,SAAOkB,GAAP,CAAWjB,OAAOgB,UAAlB,EAA8B,UAASE,GAAT,EAAcC,GAAd,EAAmB;AAChDb,WAAQC,GAAR,CAAY,qBAAmBP,OAAOgB,UAAtC;AACAV,WAAQC,GAAR,CAAY,kBAAZ,EAAgCW,IAAIE,KAApC;AACAnB,eAAYoB,eAAZ,CAA4BH,IAAIE,KAAJ,CAAUE,aAAtC,EAAqDJ,IAAIE,KAAJ,CAAUG,UAA/D,EAA2E,UAASC,GAAT,EAAc;AACxFlB,YAAQC,GAAR,CAAYiB,GAAZ;AACA,IAFD,EAEG,UAASC,IAAT,EAAe;AACjBN,QAAIO,IAAJ,CAASD,IAAT;AACA,IAJD;AAKA,GARD;AASA,EAXD;;AAaA,KAAId,yBAAyB,SAAzBA,sBAAyB,GAAW;AACvCL,UAAQC,GAAR,CAAY,wBAAsBP,OAAO2B,QAAzC;AACA5B,SAAOkB,GAAP,CAAWjB,OAAO2B,QAAlB,EAA4B,UAAST,GAAT,EAAcC,GAAd,EAAmB;AAC9Cb,WAAQC,GAAR,CAAY,qBAAmBP,OAAO2B,QAAtC;AACArB,WAAQC,GAAR,CAAY,qBAAmBW,GAA/B;AACAjB,eAAY2B,WAAZ,CAAwBV,IAAIE,KAAJ,CAAUG,UAAlC,EAA8C,UAASC,GAAT,EAAc;AAC3DlB,YAAQC,GAAR,CAAYiB,GAAZ;AACA,IAFD,EAEG,UAASC,IAAT,EAAe;AACjBN,QAAIO,IAAJ,CAASD,IAAT;AACA,IAJD;AAKA,GARD;AASA,EAXD;;AAaA,KAAIb,wBAAwB,SAAxBA,qBAAwB,GAAW;AACtCN,UAAQC,GAAR,CAAY,wBAAsBP,OAAO2B,QAAzC;AACA5B,SAAOkB,GAAP,CAAWjB,OAAO6B,YAAlB,EAAgC,UAASX,GAAT,EAAcC,GAAd,EAAmB;AAClDb,WAAQC,GAAR,CAAY,qBAAmBP,OAAO6B,YAAtC;AACAvB,WAAQC,GAAR,CAAY,qBAAmBW,IAAIE,KAAJ,CAAUU,OAAzC;AACA7B,eAAY8B,iBAAZ,CAA8Bb,IAAIE,KAAJ,CAAUU,OAAxC,EAAiDZ,IAAIE,KAAJ,CAAUG,UAA3D,EAAuE,UAASC,GAAT,EAAc;AACpFlB,YAAQC,GAAR,CAAYiB,GAAZ;AACA,IAFD,EAEG,UAASC,IAAT,EAAe;AACjBN,QAAIO,IAAJ,CAASD,IAAT;AACA,IAJD;AAKA,GARD;AASA,EAXD;;AAaA,QAAOtB,MAAP;AACA,CApEgB,EAAjB","file":"Router.js","sourcesContent":["module.exports = (function() {\n\tvar router, routes;\n\tvar twitterUtil = require('./TwitterUtil.js');\n\n\tfunction Router(express, routes) {\n\t\tinit(express, routes);\n\t\tconsole.log(\"init\");\n\t}\n\n\tRouter.prototype.setupRoutes = function() {\n\t\tconfigureUserTweetsRoute();\n\t\tconfigureMyTweetsRoute();\n\t\tconfigureSearchTweets();\n\t}\n\n\tRouter.prototype.getExpressRouter = function() {\n\t\treturn router;\n\t}\n\n\tvar init = function(express, definedRoutes) {\n\t\tif(express.Router && definedRoutes) {\n\t\t\trouter = express.Router();\n\t\t\troutes = definedRoutes;\n\t\t} else {\n\t\t\tthrow new Error(\"Invalid params passed to the constructor\");\n\t\t}\n\t};\n\n\tvar configureUserTweetsRoute = function() {\n\t\tconsole.log(\"Configuring route: \"+routes.userTweets);\n\t\trouter.get(routes.userTweets, function(req, res) {\n\t\t\tconsole.log(\"Entering route: \"+routes.userTweets);\n\t\t\tconsole.log(\"Request params: \", req.query);\n\t\t\ttwitterUtil.getUserTimeline(req.query.twitterHandle, req.query.tweetCount, function(err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}, function(resp) {\n\t\t\t\tres.send(resp);\n\t\t\t})\n\t\t});\n\t};\n\n\tvar configureMyTweetsRoute = function() {\n\t\tconsole.log(\"Configuring route: \"+routes.myTweets);\n\t\trouter.get(routes.myTweets, function(req, res) {\n\t\t\tconsole.log(\"Entering route: \"+routes.myTweets);\n\t\t\tconsole.log(\"Request params: \"+req);\n\t\t\ttwitterUtil.getMyTweets(req.query.tweetCount, function(err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}, function(resp) {\n\t\t\t\tres.send(resp);\n\t\t\t});\n\t\t});\n\t};\n\n\tvar configureSearchTweets = function() {\n\t\tconsole.log(\"Configuring route: \"+routes.myTweets);\n\t\trouter.get(routes.searchTweets, function(req, res) {\n\t\t\tconsole.log(\"Entering route: \"+routes.searchTweets);\n\t\t\tconsole.log(\"Request params: \"+req.query.hashtag);\n\t\t\ttwitterUtil.getSearchedTweets(req.query.hashtag, req.query.tweetCount, function(err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}, function(resp) {\n\t\t\t\tres.send(resp);\n\t\t\t});\n\t\t})\n\t}\n\n\treturn Router;\n})();"]}